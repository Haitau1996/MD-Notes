# Mastering Rust
## Chap 1: 入门
Rust 是一种用过去的知识来解决将来的问题的技术, 它的灵感来自于多种语言的知识, 其中比较重要的是 Cyclone 的基于区域的内存管理技术, C++ 的 RAII 原则, Haskell 的类型系统\异常处理类型和类型类. <br>
* **静态和强类型语言** , 静态意味着编译器将在编译时进行大量的类型检查, **强类型就意味着不允许发生诸如类型之间自动转换的事情** , 并且指向整数的变量不能再代码中改为指向字符串. 
* **编译期内存安全**: Rust 编译器可以在编译时跟踪程序中资源的变量, 并且在没有垃圾收集器的情况下完成这些操作. 
* **零成本抽象**: 编程的目的就是管理复杂性, 这是通过良好的抽象实现的, 它在抽象时候使用的包装器结构没有任何指针解引用, 不会产生堆分配的开销. 
* **支持高并发**: 语言具有应用程序接口和抽象能力, 使得编写正确和安全的并发代码变得十分容易. 

### Rust 简介
安装 Rust 工具链, 在 msys2/Unix 等环境中都可以使用下面这行安装工具链:
```bash
curl https://sh.rustup.rs -sSf | sh
```
如果网络环境不好可以设置环境变量`RUSTUP_DIST_SERVER`为`https://mirrors.tuna.tsinghua.edu.cn/rustup`, 使用清华的开源镜像站.此外[rust playground](https://play.rust-lang.org) 可以在线运行 Rust 程序, 这支持导入外部库, 并可在运行示例程序时候使用. 

#### 基元类型（Primitive types）
Rust 中的基元类型有下面几种：
* bool 类型
* char 字符
* 整型，区别在于位宽和是否有符号
* isize : 指针大小的有符号整型。 usize : 指针大小的无符号整型
* 浮点类型 f32, f64
* `[T； N]`: 固定大小的数组， T 表示元素类型， N 表示数目
* `[T]`: 动态大小的连续序列视图， T 表示任意类型
* str:字符串切片， 主要做引用
* （T,U,..）：有限序列， 其中 T,U可以是不同的类型
* fn(i32)-> i32 : 定义了接收类型和返回值的函数

#### 变量声明和不可变性
Rust 中使用 let 来声明变量，**并且在默认的情况下不可变**，就是说我们无法在初始化之后让给变量赋其他值， 如果我们希望变量在将来指向别的东西（同一类型）， 这需要在变量前加入 `mut` 关键字.
```rust
let mut greeting = "Hello";
```

#### 函数
函数将一系列指令抽象为具名实体, 稍后可以通过其他代码调用这些指令, 帮助用户管理复杂性, 需要注意的是 **Rust 不允许类似于 C++ 方式的函数重载**. 函数最后一个表达式会自动返回, 不过仍有关键字 return, 用于函数提前退出. 
```rust
fn add(a: u64, b: u64) -> u64 {
    a + b
}
```

#### 闭包
